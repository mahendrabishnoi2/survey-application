<!-- <p>question works!</p> -->
<div [formGroup]="form">

    <div [ngSwitch]="question.controlType">
        <div *ngSwitchCase="'oneline'">
            <label> {{question.label}}
                <input [formControlName]="question.key" [id]="question.key" [type]="question.type">
            </label>
        </div>

        <div *ngSwitchCase="'multiline'">
            <label> {{question.label}}
                <!-- <input [formControlName]="question.key" [id]="question.key" [type]="question.type"> -->
                <textarea [formControlName]="question.key" cols="30" rows="5"></textarea>
            </label>
        </div>


        <div *ngSwitchCase="'radio'">
            <label>{{question.label}}</label>
            <label *ngFor="let option of question.options">
                <input [formControlName]="question.key" [id]="option.key" type="radio" [value]="option.key">
                {{option.value}}
            </label>
        </div>

        <!-- <div *ngSwitchCase="'dropdown'">
            <label>
                {{question.label}}
                <select [id]="question.key" [formControlName]="question.key">
                    <option *ngFor="let opt of question.options" [value]="opt.key">{{opt.value}}</option>
                </select>
            </label>
        </div> -->


        <div *ngSwitchCase="'checkbox'">
            <label>{{question.label}}
                <ng-container formArrayName="{{question.key}}" *ngFor="let option of question.options; let i = index">
                    <input type="checkbox" [formControlName]="i">
                    {{question.options[i].value}}
                </ng-container>
            </label>
        </div>

        <!-- TODO: add message for required -->
        <div style="font-size: 80%;color: #dc3545;"
            *ngIf="question.validation.length > 0 && form.controls[question.key].hasError('pattern')">
            <ng-container *ngIf="question.validation==='alpha'">
                Only Alphabets allowed
            </ng-container>
            <ng-container *ngIf="question.validation==='alpha-numeric'">
                Only Alphanumeric allowed
            </ng-container>
            <ng-container *ngIf="question.validation==='numeric'">
                Only Numbers allowed
            </ng-container>
        </div>

        <!-- <div class="errorMessage" *ngIf="!isValid">{{question.label}} is required</div> -->
    </div>
</div>